<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book Preorder — Feast Cebu</title>
  <style>
    :root{--accent:#0b74de;--muted:#6b7280}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0;padding:0;background:#f7fafc;color:#0f172a}
    header{display:flex;flex-direction:column;align-items:flex-start;gap:6px;padding:16px;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,0.06)}
    h1{margin:0;font-size:20px}
    .layout{display:flex;flex-direction:row;gap:18px;padding:16px}
    .card{background:#fff;border-radius:10px;padding:12px;box-shadow:0 6px 18px rgba(15,23,42,0.06);flex:1}
    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
    .controls label{display:flex;align-items:center;gap:6px}
    .book-list{display:grid;gap:8px}
    .book{display:flex;gap:12px;align-items:center;padding:10px;border-radius:8px;border:1px solid #eef2f7;flex-wrap:wrap}
    .book img{width:56px;height:80px;object-fit:cover;border-radius:4px}
    .book .meta{flex:1;min-width:180px}
    .book .meta h3{margin:0;font-size:15px}
    .book .meta p{margin:4px 0 0;font-size:13px;color:var(--muted)}
    .price{font-weight:700}
    .discount{color:#ef4444;text-decoration:line-through;margin-left:8px;font-weight:500}
    .cart h3{margin-top:0}
    table{width:100%;border-collapse:collapse}
    td,th{padding:8px;border-bottom:1px solid #f1f5f9;font-size:14px}
    input[type=number]{width:64px}
    .right{text-align:right}
    button.primary{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-size:14px}
    .muted{color:var(--muted);font-size:13px}
    .small{font-size:13px}

    /* Mobile responsiveness */
    @media(max-width:768px){
      .layout{flex-direction:column}
      .book{flex-direction:row}
      header{align-items:flex-start}
    }
  </style>
</head>
<body>
  <header>
    <h1>Pre-order your next read with us</h1>
    <div class="muted">Flexible — works on mobile & desktop</div>
  </header>

  <div class="layout">
    <section class="card">
      <div class="controls">
        <div>
          <label><input type="radio" name="filterBy" value="title" checked> Title</label>
          <label><input type="radio" name="filterBy" value="author"> Author</label>
          <label><input type="radio" name="filterBy" value="genre"> Genre</label>
        </div>
        <div id="filterDropdownContainer"></div>
        <div style="margin-left:auto">
          <input id="search" placeholder="search title..." />
        </div>
      </div>

      <div class="book-list" id="bookList">
        <!-- books go here -->
      </div>
    </section>

    <aside class="card cart">
      <h3>Cart</h3>
      <div id="cartEmpty" class="muted">No items selected. Tick books to add them here.</div>
      <div id="cartArea" style="display:none">
        <table>
          <thead><tr><th>#</th><th>Item</th><th class="right">Qty</th><th class="right">Price</th><th></th></tr></thead>
          <tbody id="cartBody"></tbody>
        </table>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
          <div class="small muted">Payment: GCash / PayMaya<br>Account name: Cherel<br>Acct #: 09126456792</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="small">Total: <strong id="cartTotal">₱0.00</strong></div>
            <button class="primary" id="confirmBtn">Confirm Order</button>
          </div>
        </div>
      </div>

      <hr>
      <div class="small">
        <strong>Disclaimer:</strong>
        <ul>
          <li>No personal information collected here — you'll be redirected to the form to confirm order.</li>
          <li>Payment-first policy before reservation is completed (pick-up only).</li>
          <li>Order number will be provided once reservation is confirmed; you'll be redirected to the Google Form.</li>
        </ul>
      </div>

    </aside>
  </div>

  <script>
  // [Same JS as before — unchanged, handles fetch, cart, filters, form redirection]
  </script>
</body>
</html>
